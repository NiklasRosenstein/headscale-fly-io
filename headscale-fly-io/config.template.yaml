server_url: https://${HEADSCALE_DOMAIN_NAME}
listen_addr: 0.0.0.0:8080
metrics_listen_addr: 0.0.0.0:8081

# TODO: Expose GRPC API? So that it can be accessed with the headscale CLI
#       externally, see https://github.com/juanfont/headscale/blob/main/docs/remote-cli.md
# grpc_listen_addr: 0.0.0.0:8081
# grpc_allow_insecure: true

ephemeral_node_inactivity_timeout: ${HEADSCALE_EPHEMERAL_NODE_INACTIVITY_TIMEOUT}

log:
  level: ${HEADSCALE_LOG_LEVEL}

noise:
  private_key_path: /var/lib/headscale/noise_private.key

database:
  type: sqlite
  sqlite:
    path: /var/lib/headscale/db.sqlite
    write_ahead_log: true

prefixes:
  v6: ${HEADSCALE_PREFIXES_V6}
  v4: ${HEADSCALE_PREFIXES_V4}
  allocation: ${HEADSCALE_PREFIXES_ALLOCATION}

policy:
  mode: file
  path: ""  # TODO: Support ACL policy files?

derp:
  urls:
  - https://controlplane.tailscale.com/derpmap/default

dns:
  base_domain: ${HEADSCALE_DNS_BASE_DOMAIN}
